//------------------------------------------------------------------------------
// NAVIGATION.SCSS
// Navigation styling.
//------------------------------------------------------------------------------

// MAIN MENU
.main-menu {
  .menu__list {
    @include reset-list();
    
    .menu__item {
      a:not(.btn) {
        font-weight: 600;
        text-decoration: none;
        white-space: nowrap;

        &.is-active {
          position: relative;
          font-weight: bold;

          &::before {
            content: '';
            position: absolute;
            bottom: -.5rem;
            height: rem(2);
            width: rem(26);
            background-color: $white;
            left: 50%;
            translate: -50% 0;
          }
        }
      }
    }
  }

  & > .menu__list {
    display: flex;
    align-items: center;
    gap: 2rem;

    & > .menu__item.menu__item--expanded {
      position: relative;
      @include iconize($chevron-down, 'after', $white);

      & > .menu__list {
        position: absolute;
        display: none;
        top: calc(100% + 2.6rem);
        left: -2rem;
        background-color: $white;
        padding: 1rem 2rem;
        flex-direction: column;
        gap: 1rem;

        .menu__item {
          a {
            position: relative;
            @include iconize($long-arrow-right);
          }
        }

        &:before {
          content: '';
          position: absolute;
          top: -2.8rem;
          height: 2.8rem;
          width: 100%;
          left: 0;
        }
      }
      
      &:hover {
        & > .menu__list {
          display: flex;
        }
      }
    }
  }

  @include mq(xl) {
    display: none;
  }
}

body:not(.logged-in).has-hero {
  .main-menu {
    .menu__list {
      .menu__item {
        a:not(.btn) {
          color: $white;
        }
      }
    }
  }


  .main-menu > .menu__list > .menu__item.menu__item--expanded > .menu__list{
    background-color: $white;

    a {
      color: $black !important;
    }
  }
}

// BOTTOM MENU
.bottom-menu {
  .menu__list {
    @include reset-list;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    
    .menu__item {
      a, span {
        font-size: rem(16);
        text-decoration: none;
        color: $gray-dark;
      }
    }

    @include mq(s) {
      flex-direction: column;
    }
  }
}

// FIXED MENU
.fixed-menu {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  z-index: 10;

  .menu__list {
    @include reset-list;
    display: flex;
    gap: 1.2rem;
    
    .menu__item {
      a, span {
        position: relative;
        text-indent: -9999px;
        background-color: $white;
        width: rem(56);
        height: rem(56);
        border-radius: 50%;
        box-shadow: $box-shadow;
        padding: 0;

        &:before {
          position: absolute;
          width: 100%;
          height: 100%;
          mask-size: 1.5rem;
        }
      }
    }
  }

  @include mq(m) {
    bottom: .5rem;
    right: 50%;
    translate: 50% 0;

    .menu__list {
      .menu__item {
        a, span {
          width: rem(50);
          height: rem(50);
        }
      }
    }
  }
}